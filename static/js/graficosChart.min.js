function traergrafico(){
 $.ajax({
    url: "http://127.0.0.1:5000/get_api_month",
    type:"GET"    
 }).done(function(resp){
    var titulo= [];
    var cantidad= [];
    var colores= [];
    var data= (resp["datos"])
    for(let i=0; i<data.length; i++){
      titulo.push(data[i][0]);
      cantidad.push(data[i][1]);
      colores.push(colorRGB())
    };
 document.getElementById("myChart3"). style.display= "none";
 document.getElementById("myChart2"). style.display= "none";
 document.getElementById("myChart"). style.display= "block";
 var ctx = document.getElementById('myChart'); 
 var myChart = new Chart(ctx, {
            type:'bar',
            data:{
                labels: titulo,
                datasets: [{
                    data:cantidad,
                    label: 'SELLOS INCAUCA',
                    backgroundColor: colores,
                    borderColor: ["black"],
                    borderWidth:1
                }]
            },
            options:{
                scales:{
                    y:{
                        beginAtZero:true
                    }
                }
            }
        })
      })
}
function traergrafico_polipro(){
 $.ajax({
    url: "http://127.0.0.1:5000//get_api_polipro",
    type:"GET"    
 }).done(function(resp){
    var titulo= [];
    var cantidad= [];
    var colores= [];
    var data= (resp["datos"])
    for(let i=0; i<data.length; i++){
      titulo.push(data[i][0]);
      cantidad.push(data[i][1]);
      colores.push(colorRGB());
    };
 document.getElementById("myChart3"). style.display= "none";
 document.getElementById("myChart"). style.display= "none";
 document.getElementById("myChart2"). style.display= "block";   
 var ctx = document.getElementById('myChart2'); 
 var myChart2 = new Chart(ctx, {
            type:'bar',
            data:{
                labels: titulo,
                datasets: [{
                    data:cantidad,
                    label: 'SELLOS POLIPROPILENO',
                    backgroundColor: colores,
                    borderColor: ["black"],
                    borderWidth:1
                }]
            },
            options:{
                scales:{
                    y:{
                        beginAtZero:true
                    }
                }
            }
        })
      })
}
// funcion para los colores RGB de los graficos de la app web //
function generarNumero(numero){
return (Math.random()*numero).toFixed(0);
}
function colorRGB(){
    var coolor = "("+generarNumero(255)+"," + generarNumero(255) + "," + generarNumero(255) +")";
    return "rgb" + coolor;
}
// funcion para visializar el total de sellos de la app web //
function totalSellos(){
 $.ajax({
    url: "http://127.0.0.1:5000/get_api_total",
    type:"GET"
 }).done(function(resp){
    $("#total").text(parseFloat(resp["total"]).toLocaleString());
 })
}
// funcion para visializar el total de sellos de polipropileno de la app web //
function totalSellosPP(){
 $.ajax({
    url: "http://127.0.0.1:5000/get_api_total_pp",
    type:"GET"
 }).done(function(resp){
    $("#totalp").text(parseFloat(resp["totalp"]).toLocaleString());
 })
}
// funcion traer graficos promedio de los sellos incauca de la app web
function total_sellos(){
 $.ajax({
    url: "http://127.0.0.1:5000/promedio_incauca",
    type:"GET"    
 }).done(function(resp){
    var labels= (resp["promedio"]);
    var cantidad= [];
    var colores= [];
    var data= (resp["promedio"])
    for(let i=0; i<data.length; i++){
      cantidad.push(data[i][0])  
      colores.push(colorRGB())
    };
 document.getElementById("myChart"). style.display= "none";
 document.getElementById("myChart2"). style.display= "none";  
 document.getElementById("myChart3"). style.display= "block";
 var ctx = document.getElementById('myChart3'); 
 var myChart = new Chart(ctx, {
    type:'bar',
    data:{
        labels: labels,
        datasets: [{
            data:cantidad,
            label: 'INCAUCA',
            backgroundColor: colores,
            borderColor: ["black"],
        },{
            label: 'POLIPROPILENO',
            backgroundColor: colores,
            borderColor: ["black"],
        }],
        },
        options:{
            scales:{
                y:{
                    beginAtZero:true
                }
            }
        }
    })
    })
};

